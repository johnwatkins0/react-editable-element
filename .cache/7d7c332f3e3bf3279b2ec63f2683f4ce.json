{"dependencies":[{"name":"prop-types"},{"name":"react"},{"name":"./htmlTags"},{"name":"./validateElementPropType"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),t=require(\"prop-types\"),n=s(t),l=require(\"react\"),a=s(l),o=require(\"./htmlTags\"),i=s(o),u=require(\"./validateElementPropType\"),r=s(u);function s(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function f(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(t){f(n,a.default.Component);function n(e){p(this,n);var t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return h.call(t),t.state={value:t.props.value,editable:n.setEditable(e)},t.onClick=t.onClick.bind(t),t.onChange=t.onChange.bind(t),t.onKeyDown=t.onKeyDown.bind(t),t}return e(n,[{key:\"componentDidMount\",value:function(){this.maybeFocusInput()}},{key:\"componentWillReceiveProps\",value:function(e){this.maybeUpdateValue(e)}},{key:\"componentDidUpdate\",value:function(e,t){this.maybeFocusInput(e,t)}},{key:\"maybeFocusInput\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0===Object.keys(e).length&&this.state.editable?this.input.focus():!1!==e.editable||!0!==this.props.editable?!1===t.editable&&!0===this.state.editable&&this.input.focus():this.input.focus()}},{key:\"maybeUpdateValue\",value:function(e){e.value!==this.state.value&&this.setState({value:e.value})}},{key:\"onChange\",value:function(e){this.props.onChange?this.props.onChange(e):this.setState({value:e})}},{key:\"onClick\",value:function(e){!0===this.props.allowEditing&&(e.preventDefault(),this.setState({editable:!0}))}},{key:\"onKeyDown\",value:function(e){this.props.onKeyDown?this.props.onKeyDown(e):[13,27].includes(e.keyCode||e.which)&&this.setState({editable:!1})}},{key:\"renderStaticElement\",value:function(){var e=this.props.element;return a.default.createElement(e,{className:this.props.elementClassName,style:this.props.elementStyle,onClick:this.onClick,dangerouslySetInnerHTML:{__html:this.state.value||\"(empty element)\"}})}}]),n}();d.propTypes={allowEditing:n.default.bool,editable:n.default.bool,element:r.default,elementClassName:n.default.string,elementStyle:n.default.objectOf(n.default.any),inputClassName:n.default.string,inputStyle:n.default.objectOf(n.default.any),onChange:n.default.func,onKeyDown:n.default.func,placeholder:n.default.string,value:n.default.string},d.defaultProps={allowEditing:!0,allowedElements:i.default,editable:!1,element:\"div\",elementClassName:\"\",elementStyle:{},inputClassName:\"\",inputStyle:{},onChange:null,onKeyDown:null,placeholder:\"Enter text\",value:\"\"},d.setEditable=function(e){return!0===e.allowEditing&&(\"\"===e.value||e.editable)};var h=function(){var e=this;this.renderEditableElement=function(){return a.default.createElement(\"input\",{ref:function(t){e.input=t},className:e.props.inputClassName,style:e.props.inputStyle,value:e.state.value,placeholder:e.props.placeholder,onChange:function(t){return e.onChange(t.target.value)},onKeyDown:e.onKeyDown,onBlur:function(){return e.setState({editable:!1})}})},this.render=function(){return e.state.editable?e.renderEditableElement():e.renderStaticElement()}};exports.default=d;"},"hash":"0131c535b53aa2110050401bde1e3909"}